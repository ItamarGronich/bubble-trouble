{"version":3,"sources":["Underdash-compiled.js"],"names":[],"mappings":"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","file":"Underdash-compiled-compiled.js","sourcesContent":["/**\n * Underdash library module.\n *\n * use the underscore symbol ( '_' ) to use library methods.  e.g. - <code>_.shuffle();</code>\n * @type      {{removeDuplicates(), flatten, shuffle}}\n * @private  - <_.flatten>, <_.removeDuplicates> and <_.shuffle>\n */\nvar Underdash = function () {\n    'use strict';\n\n    /**\n     * @module UTILS - Utilities module\n     *                 has basic utility methods\n     * @type {{flatten, shuffle, rd}}\n     *\n     * @API - UTILS.\n     */\n\n    var UTILS = function () {\n\n        function flatten(arr, shallow) {\n            /* this is the exit condition:\n             * if every element in the array is not an array then return the array.\n             * in other words if there are no sub-arrays in the master array return the master array.\n             * */\n            if (arr.every(function (e) {\n                return !Array.isArray(e);\n            })) {\n                return arr;\n            } else {\n                var newArr = [];\n                for (var i = 0; i < arr.length; i++) {\n                    if (Array.isArray(arr[i])) {\n                        for (var j = 0; j < arr[i].length; j++) {\n                            newArr.push(arr[i][j]);\n                        }\n                    } else {\n                        newArr.push(arr[i]);\n                    }\n                }\n                if (!shallow) {\n                    return flatten(newArr);\n                }\n            }\n        }\n\n        function removeDuplicates(arr) {\n            var newObj = {},\n                newArr = [];\n            for (var i = 0; i < arr.length; i++) {\n                newObj[arr[i]] = arr[i];\n            }\n            for (var key in newObj) {\n                newArr.push(newObj[key]);\n            }\n            return newArr;\n        }\n\n        function shuffle(arr) {\n            // Your code here\n            for (var i = 0; i < arr.length; i++) {\n                var randIndex = Math.round(Math.random() * (arr.length - 1)),\n                    current = arr[i],\n                    random = arr[randIndex];\n                if (current !== random) {\n                    arr[i] = random;\n                    arr[randIndex] = current;\n                }\n            }\n            return arr;\n        }\n\n        /*======================================\n        * Object Oriented methods\n        * =======================================*/\n\n        function firstKey(obj) {\n            var key = Object.keys(obj)[0];\n            if (!key) {\n                return -1;\n            }\n            return key;\n        }\n\n        function lastKey(obj) {\n            var arr = Object.keys(obj),\n                pos = arr.length - 1;\n            if (pos > -1) {\n                return arr[pos];\n            } else {\n                return -1;\n            }\n        }\n\n        function values(obj) {\n            var arr = [];\n            for (var key in obj) {\n                arr.push(obj[key]);\n            }\n            return arr;\n        }\n\n        return {\n            flatten: flatten,\n            shuffle: shuffle,\n            rd: removeDuplicates,\n            firstKey: firstKey,\n            lastKey: lastKey,\n            values: values\n        };\n    }();\n\n    /**\n     * @module Event Bus  - central event bus using a PUB/SUB architecture.\n     *\n     * @API :\n     *      *@method on   - subscribe to event .adds an event listener with a callback function and a user\n     *          @see on.\n     *\n     *      *@method off  - unsubscribe from event .removes event listener. provide type and callback / user\n     *          @see off.\n     *\n     *      *@metohd emit - Publish event. emits the event. arguments by either type / type + user\n     *          @see emit.\n     *\n     * @type {{BusEvent, on, off, emit, events}} <== all functions run in the module\n     */\n    var eventBus = function () {\n\n        /**\n         * @Object - the events object will hold all events and their listeners and handlers\n         *\n         * structure is events >\n         *                  type1: >\n         *                          [\n         *\n         *                          {user1 : callback},\n         *                          {user2 : callback}\n         *                          ....\n         *\n         *                          ]\n         *                   type2: >\n         *                          [\n         *\n         *                          {user1 : callback},\n         *                          {user2 : callback}\n         *                          ....\n         *\n         *                          ]\n         *\n         */\n        var events = {};\n\n        // error handler function. checks if the 'type' argument was specified correctly\n        function ifNoType(type) {\n            if (!type) {\n                throw new Error('first argument: \"type\" missing.');\n            }\n\n            if (typeof type !== 'string') {\n                throw new TypeError('\"type\" argument must be a string');\n            }\n        }\n\n        /**\n         * @constructor BusEvent constructor function.\n         *\n         *              Is used for constructing BusEvent objects to fire with\n         *              dispatch\n         * @param type      - a string containing the name of the desired event\n         * @param options   - an Object containing desired customisable properties to set on event.\n         * @prototype  {{getType, getTimeStamp, getTarget, setDetail, getDetail}}\n         * @see getType\n         * @see getTimeStamp\n         * @see getTarget\n         * @see getDetail\n         * @see setDetail\n         */\n        function BusEvent(type, options) {\n\n            ifNoType(type);\n\n            if (options && typeof options !== 'object') {\n                throw new TypeError('second argument - \"options\" - must be an object');\n            }\n\n            this.type = type;\n\n            this.detail = null;\n\n            this.target = null;\n\n            this.timeStamp = Date.now();\n\n            if (options !== null && typeof options === 'object') {\n                for (var key in options) {\n                    if (key === 'detail' && (typeof options.detail !== 'object' || options.detail === null)) {\n                        throw new TypeError('details key in options must be an object');\n                    }\n                    this[key] = options[key];\n                }\n            }\n        }\n\n        BusEvent.prototype.getType = function () {\n            return this.type;\n        };\n        BusEvent.prototype.getTimeStamp = function () {\n            return this.timeStamp;\n        };\n        BusEvent.prototype.getTarget = function () {\n            return this.target;\n        };\n        BusEvent.prototype.setDetail = function (key, value) {\n            if (this.detail === null || typeof this.detail !== 'object') {\n                this.detail = {};\n            }\n\n            if (!key || !value || typeof key !== 'string' || typeof value !== 'string') {\n                throw new TypeError('setDetail must have two arguments, a key and a value. both must be strings');\n            }\n            this.detail[key] = value;\n        };\n        BusEvent.prototype.getDetail = function () {\n            return this.detail;\n        };\n\n        /**\n         * @method on - subscribe to event.\n         *\n         * @param type     - *Required* a sting with the name of the desired event to listen to\n         * @param callback - *Required* a function to deploy once event is fired\n         * @param user     - *Required* a string containing the name of the module\n         */\n        function on(type, callback, user) {\n\n            ifNoType(type);\n\n            if (!callback || typeof callback !== 'function') {\n                throw new TypeError('callback isn\\'t specified or is not a function');\n            }\n\n            if (!user) {\n                throw new TypeError('user argument isn\\'t specified or is not a truthy value');\n            }\n\n            var handlerObj = {};\n            handlerObj[user] = callback;\n\n            events[type] = events[type] || [];\n            events[type].push(handlerObj);\n        }\n\n        /**\n         * @method Unsubscribe - this method unsubscribes a single handler function, a full user\n         *                       or a whole event depending on the arguments provided:\n         *\n         *                       @param circle === 'function'- if circle is a function then off(); removes only the\n         *                                                     provided function from the listeners array\n        *                                @param circle === 'string'  - if circle is a string then off(); removes all the\n         *                                                     listeners that have the specified user\n         *                                                     from the listeners array\n        *                                @param all === true         - if all is a truthy value, off will remove entire event\n         *                                                     from the events bank.\n         *\n         * @param type - Required! can only be a string\n         * @param circle - can be one of the following:\n         *                 *@type function - the callback function you wish to remove\n         *\n         *                 *@type string   - a string reprisenting the name of the user\n         *                                   you wish to unsubscribe\n         * @param all optional if is a true value then removes entire event from the event bank\n         * @returns {number} the new legnth of the modified callback array\n         */\n        function off(type, circle, all) {\n            var callback, user, arr;\n\n            ifNoType(type);\n\n            if (all) {\n                delete events[type];\n                return;\n            }\n\n            if (typeof circle === 'function') {\n                callback = circle;\n            } else if (typeof circle === 'string') {\n                user = circle;\n            } else {\n                throw new TypeError('second argument must either be a user string stating the name of the listener module or a callback function');\n            }\n\n            if (!circle) {\n                throw new TypeError('Both callback and user are missing. Must specify either one as the second argument.');\n            }\n\n            arr = events[type];\n            for (var i = arr.length - 1; i >= 0; i--) {\n                if (user) {\n                    if (Object.keys(arr[i])[0] === user) {\n                        arr.splice(i, 1);\n                    }\n                } else {\n                    if (arr[i][Object.keys(arr[i])[0]] === callback) {\n                        arr.splice(i, 1);\n                    }\n                }\n            }\n\n            return events[type].length;\n        }\n\n        /**\n         * @method Publish - if no user specified fires all handlers under the event.\n         *                   if user specified fires all handlers of the specified event\n         *                   that can be associated with the specified user.\n         * @param event - a BusEvent object. created with the BusEvent constructor.\n         * @param user  - a string representing the user that it's handlers should be fired.\n         */\n        function emit(event, user) {\n\n            if (!event) {\n                throw new TypeError('event argument missing. must be a BusEvent object');\n            }\n\n            if (!(event instanceof BusEvent)) {\n                throw new TypeError('event must be of type BusEvent object use BusEvent to construct such object.');\n            }\n\n            if (user && typeof user !== 'string') {\n                throw new TypeError('user argument must be a string containing the module name');\n            }\n\n            var callbackArr = events[event.type];\n\n            callbackArr.forEach(function (el) {\n                if (user) {\n                    if (el.hasOwnProperty(user)) {\n                        el[user](event);\n                    }\n                } else {\n                    el[Object.keys(el)[0]](event);\n                }\n            });\n        }\n\n        return {\n            BusEvent: BusEvent,\n            on: on,\n            off: off,\n            emit: emit,\n            events: events\n        };\n    }();\n\n    function promisify(cb, args) {\n        var promise, resolveFn, rejectFn;\n\n        if (!cb || cb && typeof cb !== 'function') {\n            throw new TypeError('first argument \"callback\" is missing or it is not of function type');\n        }\n\n        if (!args || args && Array.isArray(args)) {\n            throw new TypeError('second argument \"args\" is missing or it is not an array');\n        }\n\n        promise = new Promise(function (resolve, reject) {\n            resolveFn = resolve;\n            rejectFn = reject;\n        });\n\n        promise.resolve = resolveFn;\n        promise.reject = rejectFn;\n\n        cb.apply(promise, args);\n\n        return promise;\n    }\n\n    /**==========================================================================\n     *                              API\n     *  =========================================================================\n     * @returns library api methods.\n     */\n    return {\n        rd: UTILS.rd,\n        flatten: UTILS.flatten,\n        shuffle: UTILS.shuffle,\n        eventBus: eventBus,\n        on: eventBus.on,\n        off: eventBus.off,\n        emit: eventBus.emit,\n        BusEvent: eventBus.BusEvent,\n        events: eventBus.events\n    };\n}();\n\nvar _ = Underdash;\n\n//# sourceMappingURL=Underdash-compiled.js.map"]}